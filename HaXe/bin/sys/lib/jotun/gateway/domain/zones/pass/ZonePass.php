<?php
/**
 * Generated by Haxe 4.3.0
 */

namespace jotun\gateway\domain\zones\pass;

use \php\Boot;

/**
 * ...
 * @author Rafael Moreira
 */
class ZonePass {
	/**
	 * @var ZonePass
	 */
	static public $CARRIER_PASS;

	/**
	 * @var int
	 */
	public $_read;
	/**
	 * @var int
	 */
	public $_write;

	/**
	 * @return ZonePass
	 */
	public static function get_CARRIER_PASS () {
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:13: lines 13-15
		if (ZonePass::$CARRIER_PASS === null) {
			#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:14: characters 4-37
			ZonePass::$CARRIER_PASS = new ZonePass(0, 0);
		}
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:16: characters 3-22
		return ZonePass::$CARRIER_PASS;
	}

	/**
	 * @param int $read
	 * @param int $write
	 * 
	 * @return void
	 */
	public function __construct ($read, $write) {
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:23: characters 3-20
		$this->_read = $read;
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:24: characters 3-22
		$this->_write = $write;
	}

	/**
	 * @return bool
	 */
	public function isCarrier () {
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:32: characters 10-61
		if ($this !== ZonePass::get_CARRIER_PASS()) {
			#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:32: characters 34-61
			if ($this->_read === 0) {
				#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:32: characters 49-60
				return $this->_write === 0;
			} else {
				#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:32: characters 34-61
				return false;
			}
		} else {
			#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:32: characters 10-61
			return true;
		}
	}

	/**
	 * @return string
	 */
	public function toString () {
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:36: characters 3-46
		return "[r=" . ($this->_read??'null') . ",w=" . ($this->_write??'null') . "]";
	}

	/**
	 * @param IPassCarrier $carrier
	 * 
	 * @return bool
	 */
	public function validate ($carrier) {
		#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:28: characters 10-93
		if (($this->_read === 0) || $carrier->canRead($this->_read)) {
			#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:28: characters 52-93
			if ($this->_write !== 0) {
				#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:28: characters 68-92
				return $carrier->canWrite($this->_write);
			} else {
				#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:28: characters 52-93
				return true;
			}
		} else {
			#src+extras/gateway/jotun/gateway/domain/zones/pass/ZonePass.hx:28: characters 10-93
			return false;
		}
	}

	public function __toString() {
		return $this->toString();
	}
}

Boot::registerClass(ZonePass::class, 'jotun.gateway.domain.zones.pass.ZonePass');
Boot::registerGetters('jotun\\gateway\\domain\\zones\\pass\\ZonePass', [
	'CARRIER_PASS' => true
]);
