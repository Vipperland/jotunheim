<?php

// Generated by Haxe 3.4.7
class jotun_php_file_FileCollection {
	public function __construct() {
		if(!php_Boot::$skip_constructor) {
		$this->named = _hx_anonymous(array());
		$this->{"list"} = (new _hx_array(array()));
		$this->{"list"} = (new _hx_array(array()));
		$this->named = (new _hx_array(array()));
	}}
	public $list;
	public $named;
	public function add($part, $file) {
		$this->{"list"}[$this->{"list"}->length] = $file;
		if($part !== null) {
			$o = $this->named;
			$o->{$part} = $file;
		}
	}
	public function getByName($name) {
		return Reflect::field($this->named, $name);
	}
	public function getByIndex($index) {
		$a = $this->{"list"}->length;
		$aNeg = $a < 0;
		$bNeg = $index < 0;
		$tmp = null;
		if($aNeg !== $bNeg) {
			$tmp = $aNeg;
		} else {
			$tmp = $a > $index;
		}
		if($tmp) {
			return $this->{"list"}[$index];
		} else {
			return null;
		}
	}
	public function getFileNames() {
		$r = (new _hx_array(array()));
		jotun_utils_Dice::Values($this->{"list"}, array(new _hx_lambda(array(&$r), "jotun_php_file_FileCollection_0"), 'execute'), null);
		return $r;
	}
	public function getByType($type = null) {
		if($type === null) {
			$type = "*";
		}
		$r = null;
		if($type === "*") {
			$r = _hx_anonymous(array());
		} else {
			$r = (new _hx_array(array()));
		}
		jotun_utils_Dice::Values($this->{"list"}, array(new _hx_lambda(array(&$r, &$type), "jotun_php_file_FileCollection_1"), 'execute'), null);
		return $r;
	}
	public function __call($m, $a) {
		if(isset($this->$m) && is_callable($this->$m))
			return call_user_func_array($this->$m, $a);
		else if(isset($this->__dynamics[$m]) && is_callable($this->__dynamics[$m]))
			return call_user_func_array($this->__dynamics[$m], $a);
		else if('toString' == $m)
			return $this->__toString();
		else
			throw new HException('Unable to call <'.$m.'>');
	}
	function __toString() { return 'jotun.php.file.FileCollection'; }
}
function jotun_php_file_FileCollection_0(&$r, $v) {
	{
		if($v->type === "image") {
			$r[$r->length] = $v->output;
		}
	}
}
function jotun_php_file_FileCollection_1(&$r, &$type, $v) {
	{
		if($type === "*") {
			if($v->type === $type) {
				$r[_hx_field($r, "length")] = $v;
			}
		} else {
			$field = $v->type;
			if(!_hx_has_field($r, $field)) {
				$field1 = $v->type;
				$r->{$field1} = (new _hx_array(array()));
			}
			Reflect::field($r, $v->type)->push($v);
		}
	}
}
