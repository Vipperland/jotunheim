<?php

// Generated by Haxe 3.4.7
class sirius_utils_Filler {
	public function __construct(){}
	static function _apply($path, $content, $data) {
		if($data === null) {
			$content = _hx_explode("{{" . _hx_string_or_null($path) . "}}", $content)->join("");
		} else {
			$tmp = null;
			$tmp1 = null;
			$tmp2 = null;
			if(!Std::is($data, _hx_qtype("Float"))) {
				$tmp2 = Std::is($data, _hx_qtype("String"));
			} else {
				$tmp2 = true;
			}
			if(!$tmp2) {
				$tmp1 = Std::is($data, _hx_qtype("Bool"));
			} else {
				$tmp1 = true;
			}
			if(!$tmp1) {
				$tmp = Std::is($data, _hx_qtype("Int"));
			} else {
				$tmp = true;
			}
			if($tmp) {
				$content = _hx_explode("{{" . _hx_string_or_null($path) . "}}", $content)->join($data);
			} else {
				$path1 = null;
				if($path !== null) {
					$path1 = $path !== "";
				} else {
					$path1 = false;
				}
				if($path1) {
					$path = _hx_string_or_null($path) . ".";
				} else {
					$path = "";
				}
				sirius_utils_Dice::All($data, array(new _hx_lambda(array(&$content, &$path), "sirius_utils_Filler_0"), 'execute'), null);
			}
		}
		return $content;
	}
	static function to($value, $data, $sufix = null) {
		$r = "";
		if(Std::is($data, _hx_qtype("Array"))) {
			sirius_utils_Dice::All($data, array(new _hx_lambda(array(&$r, &$sufix, &$value), "sirius_utils_Filler_1"), 'execute'), null);
		} else {
			$r = sirius_utils_Filler::_apply($sufix, $value, $data);
		}
		return $r;
	}
	static function extractNumber($value) {
		$s = "";
		$i = 0;
		while(true) {
			$b = strlen($value);
			$aNeg = $b < 0;
			$bNeg = $i < 0;
			$tmp = null;
			if($aNeg !== $bNeg) {
				$tmp = $aNeg;
			} else {
				$tmp = $b > $i;
			}
			if(!$tmp) {
				break;
			}
			$j = Std::parseInt(_hx_substr($value, $i, 1));
			$i = $i + 1;
			if($j !== null) {
				$int = $j;
				$s1 = null;
				if($int < 0) {
					$s1 = 4294967296.0 + $int;
				} else {
					$s1 = $int + 0.0;
				}
				$s = _hx_string_or_null($s) . _hx_string_or_null((Std::string($s1) . ""));
				unset($s1,$int);
			}
			unset($tmp,$j,$bNeg,$b,$aNeg);
		}
		$i = Std::parseInt($s);
		if($i === null) {
			return 0;
		} else {
			return $i;
		}
	}
	function __toString() { return 'sirius.utils.Filler'; }
}
function sirius_utils_Filler_0(&$content, &$path, $p, $v) {
	{
		$content = sirius_utils_Filler::_apply(_hx_string_or_null($path) . _hx_string_or_null($p), $content, $v);
	}
}
function sirius_utils_Filler_1(&$r, &$sufix, &$value, $p, $v) {
	{
		$v->{"%0"} = $p;
		$r1 = sirius_utils_Filler::_apply($sufix, $value, $v);
		$r = _hx_string_or_null($r) . _hx_string_or_null($r1);
		Reflect::deleteField($v, "%0");
	}
}
