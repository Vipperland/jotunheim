<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="assets/icons/pro.min.css">
		<script type="text/javascript" src="jotun/api.jotun.js"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;500,900&display=swap" rel="stylesheet">
		<style>
			html, body {
				font-family: 'Roboto', sans-serif;
				font-weight: 500;
				font-size: 18px;
			}
			.main {
				padding: 10px;
				max-width: 900px;
			}
			.item:nth-child(even) {
				background-color: #EFEFEF;
			}
			.item {
				padding: 10px;
			}
			.changer {
				padding: 10px 0;
				width: 40px;
				text-align: center;
			}
			.changer.minus {
				background-color: #CC6666;
				color: #FFFFFF;
				cursor: pointer;
			}
			.changer.search {
				background-color: #CC6666;
				color: #FFFFFF;
				cursor: pointer;
				width: 90px;
			}
			.changer.plus {
				background-color: #00CC66;
				color: #FFFFFF;
				cursor: pointer;
				transition: all .3s ease-out;
			}
			.changer.minus:hover {
				background-color: #AA4444;
			}
			.changer.plus:hover {
				background-color: #00AA44;
			}
			.changer.search:hover {
				background-color: #AA4444;
			}
			.zero .changer.minus {
				opacity: .1;
				pointer-events: none;
			}
			.ammount {
				padding: 10px;
				text-align: center;
			}
			.topbar {
				padding: 0 10px 0 0;
			}
			.topbar input {
				border: 0;
				padding: 10px;
			}
			.topbar .changer {
				margin-left: 10px;
			}
		</style>
	</head>
	<body xcode class="main">
		<div>
			<h1>Lista de Produtos</h1>
			<div class="shelf topbar">
				<input class="cel search" placeholder="Buscar por produto" />
				<div class="changer search">Limpar</div>
			</div>
			<hr/>
		</div>
		<noscript jtn-module>
			[Module:{"name":"item"}]
				<div class="shelf item v-middle" tags="{{tags}}">
					<div class="cel-5">
						<span>{{name}}</span>
					</div>
					<div class="cel-2">
						<span>{{price}}</span>
					</div>
					<div class="cel-2">
						<span>{{size}}</span>
					</div>
					<div class="cel">
						<div class="shelf v-middle zero">
							<div class="changer minus">-</div>
							<div class="cel ammount">0</div>
							<div class="changer plus">+</div>
						</div>
					</div>
				</div>
			[Module:{"name":"sender"}]
				<div class="shelf item v-middle ">
					<div class="cel">
						<div class="shelf v-middle">
							<div class="changer sender">FAZER PEDIDO</div>
						</div>
					</div>
				</div>
		</noscript>
		<script>
			Jotun.run(function(){
				var data = [
					{"name":"Cheiro verde","price":"3,00","size":"unidade"},
					{"name":"Bananas Prata","price":"7,00","size":"dz"},
					{"name":"Banana prata pq","price":"5,00","size":"dz"},
					{"name":"Banana nanica","price":"8,00","size":"dz"},
					{"name":"Alface crespa","price":"2,80","size":"unidade"},
					{"name":"Alface lisa","price":"2,80","size":"unidade"},
					{"name":"Alface roxa","price":"2,80","size":"unidade"},
					{"name":"Alface dedinho","price":"2,80","size":"unidade"},
					{"name":"Agrião","price":"4,50","size":"unidade"},
					{"name":"Couve","price":"3,00","size":"unidade"},
					{"name":"Rúcula","price":"4,50","size":"unidade"},
					{"name":"Almeirao","price":"3,00","size":"unidade"},
					{"name":"Chicoria","price":"3,00","size":"unidade"},
					{"name":"Salsa","price":"3,00","size":"pacote"},
					{"name":"Salsao","price":"7,00","size":"unidade"},
					{"name":"Tomatinho coquetel","price":"20,99","size":"kg"},
					{"name":"Pepino japonês","price":"6,50","size":"kg"},
					{"name":"Chuchu","price":"4,50","size":"kg"},
					{"name":"Pimenta dedo de moça","price":"5,00","size":"bandeija"},
					{"name":"Pimenta biquinho","price":"5,50","size":"bandeija"},
					{"name":"Pimenta gode","price":"3,00","size":"unidade"},
					{"name":"Abobrinha Itália","price":"3,50","size":"kg"},
					{"name":"Pepino","price":"5,50","size":"kg"},
					{"name":"Vagem","price":"4,50","size":"bandeija"},
					{"name":"Batata","price":"3,99","size":"kg"},
					{"name":"Cebola grande","price":"4,99","size":"kg"},
					{"name":"Cebola média","price":"3,99","size":"kg"},
					{"name":"Cebola roxa","price":"7,99","size":"kg"},
					{"name":"Batata doce branca","price":"3,99","size":"kg"},
					{"name":"Batata doce Roxa","price":"7,99","size":"kg"},
					{"name":"Batata doce rosada","price":"3,99","size":"kg"},
					{"name":"Pimentão verde","price":"7,99","size":"kg"},
					{"name":"Pimentão colorido","price":"16,99","size":"kg"},
					{"name":"Tomate médio","price":"5,30","size":"kg"},
					{"name":"Repolho","price":"4,00","size":"unidade"},
					{"name":"Repolho roxo","price":"4,50","size":"unidade"},
					{"name":"Brócolis","price":"5,60","size":"unidade"},
					{"name":"Couve flor","price":"6,00","size":"unidade"},
					{"name":"Milho verde","price":"7,00","size":"bandeija"},
					{"name":"Alface hidroponica","price":"3,00","size":"unidade"},
					{"name":"Agrião hidroponico","price":"5,00","size":"unidade"},
					{"name":"Cheiro verde hidro","price":"3,00","size":"unidade"},
					{"name":"Salsa hidro","price":"3,00","size":"unidade"},
					{"name":"Quiabo","price":"4,00","size":"bandeija"},
					{"name":"Jiló","price":"3,50","size":"bandeija"},
					{"name":"Cenoura","price":"9,20","size":"kg"},
					{"name":"Beterraba","price":"5,99","size":"kg"},
					{"name":"Mandioquinha","price":"11,99","size":"kg"},
					{"name":"Moranga","price":"3,99","size":"kg"},
					{"name":"Cabotia","price":"5,99","size":"kg"},
					{"name":"Abóbora madura","price":"2,99","size":"kg"}, 
					{"name":"Alho grande","price":"2,60","size":"100g"},
					{"name":"Alho pq","price":"1,99","size":"100g"},
					{"name":"Inhame","price":"3,99","size":"kg"},
					{"name":"Mandioca congelada","price":"6,50","size":"Pacote 1kg"},
					{"name":"Beringela","price":"4,50","size":"kg"},
					{"name":"Mogango","price":"3,50","size":"kg"},
					{"name":"Tomatinho cereja","price":"4,50","size":"bandeija"},
					{"name":"Gengibre","price":"18,00","size":"kg"},
					{"name":"Mirtilo","price":"11,50","size":"bandeija"},
					{"name":"Caqui","price":"5,00","size":"bandeija"},
					{"name":"Figo maduro","price":"7,00","size":"bandeija"},
					{"name":"Seriguela","price":"14,00","size":"bandeija"},
					{"name":"Abacate","price":"3,50","size":"unidade"},
					{"name":"Limão cravo","price":"5,00","size":"dúzia"},
					{"name":"Pitaya","price":"16,99","size":"kg"}, 
					{"name":"Pêssego amarelo importado","price":"21,99","size":"kg"}, 
					{"name":"Ameixa","price":"12,99","size":"kg"},
					{"name":"Pera","price":"2,50","size":"unidade"},
					{"name":"Manga Palmer","price":"2,50","size":"unidade"},
					{"name":"manga Tomy","price":"2,50","size":"unidade"},
					{"name":"Mamão Papaia pq","price":"4,50","size":"unidade"},
					{"name":"Formosa","price":"8,99","size":"kg"},
					{"name":"Melão comum","price":"5,90","size":"unidade"},
					{"name":"Melão sapo","price":"13,00","size":"kg"},
					{"name":"Melancia","price":"4,20","size":"kg"},
					{"name":"Melancia Baby","price":"16,00","size":"unidade"},
					{"name":"Limão Taiti","price":"3,00","size":"kg"},
					{"name":"Laranja pera","price":"6,00","size":"kg"},
					{"name":"Laranja lima","price":"9,00","size":"kg"},
					{"name":"Laranja bahia","price":"4,99","size":"kg"},
					{"name":"Mexerica","price":"4,99","size":"kg"},
					{"name":"Abacaxi pq","price":"4,90","size":"unidade"},
					{"name":"Abacaxi médio","price":"6,50","size":"unidade"},
					{"name":"Abacaxi gr","price":"9,50","size":"unidade"},
					{"name":"Maracujá","price":"7,99","size":"kg"},
					{"name":"Maçã fuji","price":"9,99","size":"kg"},
					{"name":"Maçã gala","price":"5,50","size":"kg"},
					{"name":"Maçã Argentina","price":"16,99","size":"kg"},
					{"name":"Maçã verde","price":"16,99","size":"kg"},
					{"name":"Goiaba Pequena","price":"1,50","size":"unidade"},
					{"name":"Goiaba Grande","price":"2,50","size":"unidade"},
					{"name":"Uva rosada","price":"6,90","size":"bandeija"},
					{"name":"Uva sem caroço","price":"8,90","size":"bandeija"},
					{"name":"Uva Verde sem caroço","price":"12,90","size":"bandeija"},
					{"name":"Morango","price":"6,00","size":"bandeija"},
					{"name":"Kiwi","price":"32,00","size":"kg"},
					{"name":"Amendoim cru","price":"3,50","size":"pote"},
					{"name":"Amendoim torrado","price":"3,50","size":"pote"},
					{"name":"amendoim torrado com sal","price":"3,50","size":"pote"},
					{"name":"Amendoim vermelho cru","price":"5,50","size":"pote"},
					{"name":"Amendoim torrado na casca","price":"16,00","size":"kg"},
					{"name":"Castanha de caju","price":"19,00","size":"bandeija"},
					{"name":"Castanha do Pará","price":"19,00","size":"bandeija"},
					{"name":"Ameixa seca","price":"13,00","size":"bandeija"},
					{"name":"Milho de pipoca","price":"9,80","size":"kg"},
					{"name":"Rapadura pura","price":"8,50","size":"unidade"},
					{"name":"Rapadura com amendoim","price":"8,90","size":"unidade"},
					{"name":"Rapadura com abóbora","price":"7,70","size":"unidade"},
					{"name":"Doce de leite pedaço","price":"7,90","size":"unidade"},
					{"name":"Mel","price":"20,00","size":"400ml"},
					{"name":"Melado de cana","price":"10,00","size":"pote"},
					{"name":"Pó de café moído na hora","price":"38,00","size":"kg"},
					{"name":"Ovos brancos","price":"18,00","size":"30un"},
					{"name":"Ovos vermelhos","price":"20,00","size":"30un"},
					{"name":"Palmitos tolete","price":"19,90","size":"pote"},
					{"name":"Camomila","price":"8,20","size":"pacote"},
					{"name":"Hibisco","price":"6,60","size":"pacote"},
					{"name":"Sene","price":"5,00","size":"pacote"},
					{"name":"Canela de velho","price":"6,90","size":"pacote"},
					{"name":"Cavalinha","price":"9,60","size":"pacote"},
					{"name":"Chá verde","price":"5,00","size":"pacote"},
					{"name":"Erva doce","price":"8,30","size":"pacote"},
					{"name":"Psylliun","price":"11,20","size":"pacote"},
					{"name":"Melissa","price":"7,30","size":"pacote"},
					{"name":"Hortelã","price":"5,40","size":"pacote"},
					{"name":"Chia","price":"3,60","size":"pacote"},
					{"name":"Páprica doce","price":"4,20","size":"pote"},
					{"name":"Páprica picante","price":"12,90","size":"pote"},
					{"name":"Páprica defumada","price":"5,20","size":"pote"},
					{"name":"Açafrão","price":"5,20","size":"pote"},
					{"name":"Lemon pepper","price":"6,20","size":"pote"},
					{"name":"Chimichurri","price":"5,00","size":"pote"},
					{"name":"Colorau","price":"4,60","size":"pote"},
					{"name":"Sal rosa do Himalaia","price":"4,00","size":"pote"},
					{"name":"Caldo de bacon","price":"5,00","size":"pote"},
					{"name":"Amaciante de carne","price":"4,50","size":"pote"},
					{"name":"Pimenta caena","price":"6,90","size":"pote"},
					{"name":"Curry","price":"3,90","size":"pote"},
					{"name":"Queijo grande","price":"20,00","size":"unidade"},
					{"name":"Queijo sem sal","price":"6,00","size":"peça"},
					{"name":"Queijo provolone","price":"14,00","size":"peça"},
					{"name":"Queijo minas padrão","price":"27,00","size":"meia peça"},
					{"name":"Queijo meia cura","price":"23,00","size":"meia peça"},
					{"name":"Queijo canastra","price":"27,00","size":"meia peça"},  
					{"name":"Queijo ralado","price":"3,90","size":"pacote"},
					{"name":"Queijo palitinho","price":"15,00","size":"pacote"},
					{"name":"Queijo nozinho","price":"15,00","size":"pacote"}, 
					{"name":"Farinha de milho","price":"4,90","size":"unidade"},
					{"name":"Fubá","price":"4,90","size":"unidade"},
					{"name":"Milho seco (pra galinha)","price":"3,20","size":"kg"},
					{"name":"Farelo de milho","price":"3,20","size":"kg"},
					{"name":"Feijão carioca","price":"8,00","size":"kg"}, 
					{"name":"Batata palha","price":"4,50","size":"unidade"},
				];
				
				Dice.Table(data, "name");
				
				var table = [];
				
				for(var i in data){
					var item = data[i];
					item.tags = J_SearchTag.convert(item.name);
					var o = Jotun.one("body").mount("item", item);
					o.all('.changer').onClick(function(e){
						var label = e.target.parent().one('.ammount');
						var count = parseInt(label.element.innerText);
						if(e.target.hasCss('plus')){
							label.writeText(++count);
						}else{
							if(count > 0){
								label.writeText(--count);
							}
						}
						e.target.parent().css((count == 0 ? '' : '/') + 'zero');
					});
					table.push(o);
				}
				
				Jotun.one("body").mount("sender");
				
				function resetSearch(){
					for(var i in table){
						table[i].show();
					}
				}
				
				Jotun.one(".changer.search").events.click(function(e){
					Jotun.one('input.search').value("");
					resetSearch();
				});
				
				Jotun.one('input.search').events.keyUp(function(e){
					var tag = e.target.value();
					resetSearch();
					if(tag.length >= 3){
						for(var i in table){
							var o = table[i];
							var tags = o.attribute('tags');
							trace(tag, tags);
							if(tags.indexOf(tag) == -1){
								o.hide();
							}else{
								o.show();
							}
						}
					}
					
				});
				
			});
			
		</script>
		<div class="shelf item">
			<div class="cel-5">
				<span>Produto</span>
			</div>
			<div class="cel-2">
				<span>±R$</span>
			</div>
			<div class="cel-2">
				<span>Unidade</span>
			</div>
			<div class="cel">
				<span>Quantidade</span>
			</div>
		</div>
		
	</body>
</html>