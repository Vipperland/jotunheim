<!DOCTYPE html>
<html lang="pt-BR">
<head class="marg-0">
	<meta charset="utf-8"/>
	<title>Sirius</title>
	<meta name="description" content=""/>
	<style>
		@import url('https://fonts.googleapis.com/css?family=Jura:400,700&display=swap');
		body {
			background-color: #000000;
			color: #ffffff;
			font-family: 'Jura', sans-serif;
			background-image: url(assets/img/grid.png);
		}
		.video-container {
			width: 100%;
			height: 100%;
			text-align: center;
			overflow: hidden;
			position: absolute;
			padding: 0px;
		}
		video {
			width: 100%;
			height: 100%;
			object-fit: cover;
			z-index: 0;
		}
		.panel {
			width: 100%;
			height: 100%;
			text-align: center;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 18px;
			border: 1px solid #111111;
		}
		.panel .number {
			font-size: 50vh;
		}
		.logo {
			pointer-events: none;
			z-index: 100;
		}
		
		.logo .a {
			font-size: 10vh;
		}
		
		.logo .b {
			font-size: 2vh;
		}
		
		.ref-bottom {
			bottom: 0;
		}
		
		.ref-bottom.hide {
			bottom: -100px;
		}
		
		.ref-hint {
			position: fixed;
			z-index: 1000;
			width: 100%;
			text-align: center;
			transition: all .3s ease-out;
		}
		
		.ref-index {
			z-index: 100;
			top: 0;
			height: 100%;
			padding: 8px;
			position: fixed;
		}
		
		.ref-index .dot{
			padding-top: 2px;
			margin: 4px 0;
			transition: all .3s ease-out;
		}
		
		.carousel-main {
			overflow: hidden;
		}
		
		.footer {
			margin-top: 100px;
			padding: 24px;
			text-align: center;
			border-top: 1px solid #ffffff;
		}
		
	</style>
</head>
	
<body automator>
	
	<div class="carousel-main"></div>
	
	<div class="panel">
		<div class="video-container">
			<video loop>
			  <source src="http://techlab.gateofsirius.com/assets/media/cover.mp4" type="video/mp4">
			</video>
		</div>
		<div class="logo">
			<div>
				<img src="assets/img/sirius.png" /><br/><span class="a">sirius</span><br/><span class="b">dream makers</span>
			</div>
		</div>
	</div>
	
	<div class="panel" style="background-color:#992211">
		<span class="number">1</span>
	</div>
	<div class="panel" style="background-color:#994411">
		<span class="number">2</span>
	</div>
	<div class="panel" style="background-color:#998811">
		<span class="number">3</span>
	</div>
	<div class="panel" style="background-color:#999911">
		<span class="number">4</span>
	</div>
	<div class="panel" style="background-color:#889922">
		<span class="number">5</span>
	</div>
	<div class="panel" style="background-color:#449944">
		<span class="number">6</span>
	</div>
	<div class="panel" style="background-color:#229988">
		<span class="number">7</span>
	</div>
	<div class="panel" style="background-color:#119999">
		<span class="number">8</span>
	</div>
	<div class="panel" style="background-color:#118899">
		<span class="number">9</span>
	</div>
	<div class="panel" style="background-color:#114499">
		<span class="number">10</span>
	</div>
	<div class="panel" style="background-color:#112299">
		<span class="number">11</span>
	</div>
	<div class="panel" style="background-color:#221199">
		<span class="number">12</span>
	</div>
	<div class="panel" style="background-color:#551199">
		<span class="number">13</span>
	</div>
	<div class="panel" style="background-color:#881199">
		<span class="number">14</span>
	</div>
	<div class="panel" style="background-color:#881188">
		<span class="number">15</span>
	</div>
	<div class="panel" style="background-color:#881144">
		<span class="number">16</span>
	</div>
	
	<div class="footer hidden">
		This is not in Carousel3D Context
	</div>
	
	<div id="hint" class="ref-hint ref-easing ref-bottom">
		<img src="/assets/img/scroll.png" />
	</div>
	<script src="/sirius/api.sirius.js"> </script>
	<script>
		
		var Div = sru.dom.Div;
		var Sprite = sru.dom.Sprite;
		var Sprite3D = sru.dom.Sprite3D;
		var display3d = sru.dom.display3d;
		var carousel3d = null;
		
		function _init3D(){
			
			var hint = Sirius.one('#hint');
			var axys = Sirius.one('#axys');
			var zoom = Sirius.one('#zoom');
			
			carousel3d = Sirius.plugins.Carousel3D(20, 1000, true, '.carousel-main');
			
			if(carousel3d != null){
				
				var tg = 20;
				var ap = 20;
				
				carousel3d.addBySelector('.panel');
				
				// Control panel index highlight
				function onFocusIn(e){
					var panel = e.target;
					panel.data.index.fit(25,1);
					panel.data.index.style({opacity:.6});
					tg = (panel.data.control.id == 0) ? 20 : 120;
					if(panel.data.id == 0)
						hint.css('/hide');
					else
						hint.css('hide');
				}
				
				function onFocusOut(e){
					var panel = e.target;
					panel.data.index.fit(10,1);
					panel.data.index.style({opacity:.3});
					
				}
				
				function onPinIn(e){
					var panel = e.target;
					panel.data.index.fit(50,1);
					panel.data.index.style({opacity:1});
				}
				
				function onPinOut(e){
					var panel = e.target;
					panel.data.index.fit(25,1);
					panel.data.index.style({opacity:.6});
				}
				
				// Create Index
				
				var index = new Div();
				index.content = new Div();
				index.addChild(index.content);
				index.css('ref-index mouse-none');
				index.style({width:'20px',height:'100%',display:'table'});
				index.content.style({verticalAlign:'middle', display:'table-cell'});
				index.addToBody();
				Dice.All(carousel3d.panels, function(p, v){
					var panel = new Div();
					panel.fit(10,1);
					panel.css('dot');
					panel.style('backgroundColor','#ffffff');
					panel.style({opacity:.3});
					index.content.addChild(panel);
					v.data.index = panel;
					v.data.id = p;
				});
				
				carousel3d.onFocusIn(onFocusIn);
				carousel3d.onFocusOut(onFocusOut);
				carousel3d.onPinIn(onPinIn);
				carousel3d.onPinOut(onPinOut);
				//carousel3d.onZoomIn(onZoomIn);
				//carousel3d.onZoomOut(onZoomOut);
				
				Ticker.add(function(){
					if(ap != tg){
						ap += (tg-ap) * .1;
						carousel3d.setAperture(ap);
					}
				});
				
			}
			
			// Config Video Player
			var vid = Sirius.one('video');
			function _startVideo(e){
				vid.events.click(function(v){ v.target.togglePause(); });
				Sirius.all('video').each(function(v){
					v.play();
				});
				Sirius.document.body.events.click(_startVideo, -1);
			}
			Sirius.document.body.events.click(_startVideo);
			
			function fitVideo(e){
				//vid.style({
				//	minHeight : Utils.viewportHeight() + 'px',
				//	marginLeft: (((Utils.viewportWidth() - vid.width())*.5)>>0) + 'px',
				//});
			}
			Sirius.document.body.events.resize(fitVideo).call();
		}
		
		Automator.shadowConfig({distance:3, direction:90, strength:5, flex:.2});
		
		// Inject plugin
		Sirius.inject('sirius/plugins/carousel3d.js', _init3D);
		
	</script>
	
</body>
</html>