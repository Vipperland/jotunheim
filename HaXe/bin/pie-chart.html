<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>

<style>
.progress-pie-chart {
width:200px;
height: 200px;
border-radius: 50%;
background-color: #E5E5E5;
position: relative;
}


.ppc-progress {
content: "";
position: absolute;
border-radius: 50%;
left: calc(50% - 100px);
top: calc(50% - 100px);
width: 200px;
height: 200px;
clip: rect(0, 200px, 200px, 100px);
}

.ppc-progress .ppc-progress-fill {
content: "";
position: absolute;
border-radius: 50%;
left: calc(50% - 100px);
top: calc(50% - 100px);
width: 200px;
height: 200px;
clip: rect(0, 100px, 200px, 0);
background: #81CE97;
transform: rotate(60deg);
}

.gt-50 .ppc-progress {
clip: rect(0, 100px, 200px, 0);
}

.gt-50 .ppc-progress .ppc-progress-fill {
clip: rect(0, 200px, 200px, 100px);
background: #E5E5E5;
}

.ppc-percents {
content: "";
position: absolute;
border-radius: 50%;
left: calc(50% - 173.91304px/2);
top: calc(50% - 173.91304px/2);
width: 173.91304px;
height: 173.91304px;
background: #fff;
text-align: center;
display: table;
}

.ppc-percents span {
display: block;
font-size: 2.6em;
font-weight: bold;
}

.pcc-percents-wrapper {
display: table-cell;
vertical-align: middle;
}
</style>

<script src="3rd/jquery-2.1.4.min.js"></script>
<script src="3rd/tween.min.js"></script>
<script src="api.sirius.js"></script>

<script>

Sirius.init(function(){
	
	function _update(divA){
	
		var divB = divA.one('.ppc-progress-fill');
		
		if(!divA.data.motion){
			divA.data.color = divA.style('backgroundColor').hex();
			divB.data.color = divB.style('backgroundColor').hex();
			divA.data.percent = parseInt(divA.attribute('data-percent'));;
			divA.data.motion = true;
			if(Animator.available){
				divA.data.target = 0;
				Animator.to(divA.data, divA.data.percent/100 * 5, {target:divA.data.percent, onUpdate:_update, onUpdateParams:[divA], ease:Quint.easeInOut});
			}else{
				divA.data.target = divA.data.percent;
			}
		}
		
		var pct = divA.data.target >> 0;
		
		if (pct > 50 && !divA.data.mirror) {
			divA.data.mirror = true;
			divA.css('gt-50');
			divA.style('backgroundColor',divB.data.color);
			divB.style('backgroundColor',divA.data.color);
		}
		
		divB.style('transform','rotate('+ (360*pct/100) +'deg)');
		divA.one('span').clear();
		divA.one('span').build(pct+'%');
		
	}
	
	Sirius.all('.progress-pie-chart').each(_update);
	
});

</script>

</head>

<body>

	<div class="progress-pie-chart" data-percent="25" style="background-color:#000;">
		<div class="ppc-progress">
			<div class="ppc-progress-fill" style="background-color:#999;"></div>
		</div>
		<div class="ppc-percents">
		<div class="pcc-percents-wrapper">
			<span style="color:#333">%</span>
		</div>
		</div>
	</div>
		
	<div class="progress-pie-chart" data-percent="50" style="background-color:#300;">
		<div class="ppc-progress">
			<div class="ppc-progress-fill" style="background-color:#F00;"></div>
		</div>
		<div class="ppc-percents">
		<div class="pcc-percents-wrapper">
			<span style="color:#900">%</span>
		</div>
		</div>
	</div>
		
	<div class="progress-pie-chart" data-percent="75" style="background-color:#030;">
		<div class="ppc-progress">
			<div class="ppc-progress-fill" style="background-color:#0F0;"></div>
		</div>
		<div class="ppc-percents">
		<div class="pcc-percents-wrapper">
			<span style="color:#090">%</span>
		</div>
		</div>
	</div>

	<div class="progress-pie-chart" data-percent="100" style="background-color:#003;">
		<div class="ppc-progress">
			<div class="ppc-progress-fill" style="background-color:#00F;"></div>
		</div>
		<div class="ppc-percents">
		<div class="pcc-percents-wrapper">
			<span style="color:#009">%</span>
		</div>
		</div>
	</div>

</body>
</html>
